<div class="flex flex-col gap-2">
  <div class="flex flex-row justify-between">
    <h1 class="text-md font-[500]">Trending Now</h1>

    <app-custom-button
      (onButtonTap)="toggleCreatePost()"
      class="self-end"
      btnText="Create Post"
      radius="rounded-lg"
      textSize="text-xs"
    ></app-custom-button>
  </div>

  @if (showCreatePost) {
  <div
    class="bg-white flex flex-col rounded-xl shadow-sm items-start gap-2 px-2 py-4"
  >
    <textarea
      [(ngModel)]="description"
      type="text"
      class="outline-none w-full text-wrap p-2 text-xs rounded-xl h-20 border"
      name=""
      placeholder="Type Here..."
      id=""
    ></textarea>
    <textarea
      [(ngModel)]="imageUrl"
      type="text"
      class="outline-none w-full text-wrap p-2 text-xs rounded-xl h-10 border"
      name=""
      placeholder="Image Url"
      id=""
    ></textarea>
    <app-custom-button
      [isOutline]="true"
      (onButtonTap)="submitPost()"
      class="self-end"
      btnText="Submit"
      radius="rounded-lg"
      textSize="text-xs"
    ></app-custom-button>
  </div>
  } @for (post of postService.posts; track $index) {

  <div
    class="flex shadow-sm gap-2 flex-col py-2 border-neutral-200 bg-white w-full rounded-lg border"
  >
    <app-user-tile class="px-2" [user]="post.user"></app-user-tile>
    @if(post.description !== undefined && post.description.length > 0){
    <p class="text-sm px-4 text-neutral-700">
      {{ post.description }}
    </p>
    } @if(post.image !== undefined && post.image.length > 0){
    <img class="aspect-auto object-cover" [src]="post.image" alt="" srcset="" />
    }
    <div class="flex px-2 flex-row items-center justify-between gap-6 w-full">
      <div class="flex flex-row items-center gap-4">
        <div class="flex flex-row gap-1 items-center">
          <p class="text-neutral-600 text-sm">Likes</p>

          <h1 class="text-neutral-600 text-sm">{{ post.likesCount }}</h1>
        </div>

        <div class="flex flex-row gap-1 items-center">
          <p class="text-neutral-600 text-sm">Comments</p>

          <h1 class="text-neutral-600 text-sm">{{ post.commentsCount }}</h1>
        </div>

        <div class="flex flex-row gap-1 items-center">
          <p class="text-neutral-600 text-sm">Shares</p>

          <h1 class="text-neutral-600 text-sm">{{ post.sharesCount }}</h1>
        </div>
      </div>

      <app-custom-button
        [isOutline]="false"
        radius="rounded-full"
        btnText="View More"
        textSize="text-xs"
      >
      </app-custom-button>
    </div>
  </div>
  }
</div>
